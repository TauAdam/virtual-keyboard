(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}})();const c={en:{Escape:"Esc",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Digit0:"0",Minus:"-",Equal:"=",Backspace:"bksp",Tab:"tab",KeyQ:"q",KeyW:"w",KeyE:"e",KeyR:"r",KeyT:"t",KeyY:"y",KeyU:"u",KeyI:"i",KeyO:"o",KeyP:"p",BracketLeft:"[",BracketRight:"]",Backslash:"\\",CapsLock:"caps",KeyA:"a",KeyS:"s",KeyD:"d",KeyF:"f",KeyG:"g",KeyH:"h",KeyJ:"j",KeyK:"k",KeyL:"l",Semicolon:";",Quote:"'",Enter:"enter",ShiftLeft:"shift",KeyZ:"z",KeyX:"x",KeyC:"c",KeyV:"v",KeyB:"b",KeyN:"n",KeyM:"m",Comma:",",Period:".",Slash:"/",ArrowUp:"ᐃ",ShiftRight:"shift",ControlLeft:"ctrl",AltLeft:"alt",MetaLeft:"meta",Space:" ",MetaRight:"alt",AltRight:"alt",ArrowLeft:"ᐊ",ArrowDown:"ᐁ",ArrowRight:"ᐅ",ControlRight:"ctrl",Delete:"del"},ru:{Escape:"Esc",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Digit0:"0",Minus:"-",Equal:"=",Backspace:"bksp",Tab:"tab",KeyQ:"й",KeyW:"ц",KeyE:"у",KeyR:"к",KeyT:"е",KeyY:"н",KeyU:"г",KeyI:"ш",KeyO:"щ",KeyP:"з",BracketLeft:"х",BracketRight:"ъ",Backslash:"\\",CapsLock:"caps",KeyA:"ф",KeyS:"ы",KeyD:"в",KeyF:"а",KeyG:"п",KeyH:"р",KeyJ:"о",KeyK:"л",KeyL:"д",Semicolon:"ж",Quote:"э",Enter:"enter",ShiftLeft:"shift",KeyZ:"я",KeyX:"ч",KeyC:"с",KeyV:"м",KeyB:"и",KeyN:"т",KeyM:"ь",Comma:"б",Period:"ю",Slash:"/",ArrowUp:"ᐃ",ShiftRight:"shift",ControlLeft:"ctrl",AltLeft:"alt",MetaLeft:"meta",Space:" ",MetaRight:"alt",AltRight:"alt",ArrowLeft:"ᐊ",ArrowDown:"ᐁ",ArrowRight:"ᐅ",ControlRight:"ctrl",Delete:"del"}};class a{constructor(e,i,o){this.handleKeyDown=o,this.newButton=document.createElement("button"),this.changeInnerKeyCode(e),this.newButton.setAttribute("data-content",e),this.newButton.classList.add("btn"),this.newButton.addEventListener("mousedown",()=>{o(e),this.newButton.classList.add("active")}),this.newButton.addEventListener("mouseup",()=>{this.newButton.classList.remove("active")}),i.append(this.newButton)}onKeyDown(){this.handleKeyDown(this.newButton.textContent),this.newButton.classList.add("active")}onKeyUp(){this.newButton.classList.remove("active")}changeInnerKeyCode(e){this.newButton.textContent=e}}class y{constructor(e,i,o){this.boardNode=document.createElement("div"),this.boardNode.className="board",this.keys={},Object.keys(e).forEach(t=>{t==="Enter"?this.keys[t]=new a(e[t],this.boardNode,()=>o(`
`)):this.keys[t]=new a(e[t],this.boardNode,s=>o(s))}),i.append(this.boardNode)}onKeyDown(e){const i=e.code;this.keys[i]&&this.keys[i].onKeyDown()}onKeyUp(e){const i=e.code;this.keys[i]&&this.keys[i].onKeyUp()}switchLanguage(e){Object.keys(e).forEach(i=>{this.keys[i].changeInnerKeyCode(e[i])})}}class d{constructor(e){this.currentLayout="en",this.main=document.createElement("main"),this.main.className="main",this.textarea=document.createElement("textarea"),this.textarea.className="textarea",this.main.append(this.textarea),this.board=new y(e[this.currentLayout],this.main,i=>{this.textarea.textContent+=i})}start(){document.body.append(this.main),window.addEventListener("keydown",e=>this.board.onKeyDown(e)),window.addEventListener("keyup",e=>this.board.onKeyUp(e))}}const h=()=>{new d(c).start()};h();
