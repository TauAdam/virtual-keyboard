(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const l=[[{code:"Backquote",symbol:"`"},{code:"Digit1",symbol:"1"},{code:"Digit2",symbol:"2"},{code:"Digit3",symbol:"3"},{code:"Digit4",symbol:"4"},{code:"Digit5",symbol:"5"},{code:"Digit6",symbol:"6"},{code:"Digit7",symbol:"7"},{code:"Digit8",symbol:"8"},{code:"Digit9",symbol:"9"},{code:"Digit0",symbol:"0"},{code:"Minus",symbol:"-"},{code:"Equal",symbol:"="},{code:"Backspace",symbol:"Backspace",width:2}],[{code:"Backquote",symbol:"Ñ‘"},{code:"Digit1",symbol:"1"},{code:"Digit2",symbol:"2"},{code:"Digit3",symbol:"3"},{code:"Digit4",symbol:"4"},{code:"Digit5",symbol:"5"},{code:"Digit6",symbol:"6"},{code:"Digit7",symbol:"7"},{code:"Digit8",symbol:"8"},{code:"Digit9",symbol:"9"},{code:"Digit0",symbol:"0"},{code:"Minus",symbol:"-"},{code:"Equal",symbol:"="},{code:"Backspace",symbol:"Backspace",width:2}],[{code:"KeyQ",symbol:"Q"},{code:"KeyW",symbol:"W"},{code:"KeyE",symbol:"E"},{code:"KeyR",symbol:"R"},{code:"KeyT",symbol:"T"},{code:"KeyY",symbol:"Y"},{code:"KeyU",symbol:"U"},{code:"KeyI",symbol:"I"},{code:"KeyO",symbol:"O"},{code:"KeyP",symbol:"P"},{code:"BracketLeft",symbol:"["},{code:"BracketRight",symbol:"]"},{code:"Backslash",symbol:"\\",width:2}]];class a{constructor(e){this.keyData=e,this.element=document.createElement("button"),this.element.setAttribute("type","button"),this.element.classList.add("key"),this.setKeyData(e)}setKeyData(e){this.keyData=e,this.element.textContent=e.symbol,this.element.dataset.code=e.code}setActive(e){e?this.element.classList.add("active"):this.element.classList.remove("active")}render(){return this.element}}class d{constructor(e){this.layouts=e,this.currentLayout=0,this.keys=this.layouts[this.currentLayout].map(t=>new a(t)),this.elements={main:null,keysContainer:null,textarea:null,keyboardContainer:null}}init(){this.elements.main=document.createElement("div"),this.elements.keysContainer=document.createElement("div"),this.elements.textarea=document.createElement("textarea"),this.elements.keyboardContainer=document.createElement("div"),this.elements.main.classList.add("keyboard"),this.elements.keysContainer.classList.add("keyboard__keys"),this.elements.keyboardContainer.classList.add("keyboard__container"),this.keys.forEach(e=>{this.elements.keysContainer.appendChild(e.render())}),this.elements.main.appendChild(this.elements.textarea),this.elements.main.appendChild(this.elements.keysContainer),this.elements.keyboardContainer.appendChild(this.elements.main),document.body.appendChild(this.elements.keyboardContainer),window.addEventListener("keydown",this.onKeyDown.bind(this)),window.addEventListener("keyup",this.onKeyUp.bind(this)),this.elements.keysContainer.addEventListener("mousedown",this.onMouseDown.bind(this)),this.elements.keysContainer.addEventListener("mouseup",this.onMouseUp.bind(this))}switchLayout(){this.currentLayout=(this.currentLayout+1)%this.layouts.length,this.keys.forEach((e,t)=>{e.setKeyData(this.layouts[this.currentLayout][t])})}onKeyDown(e){e.preventDefault();const t=this.keys.find(i=>i.keyData.code===e.code);t&&(t.setActive(!0),this.elements.textarea.value+=t.keyData.symbol)}onKeyUp(e){const t=this.keys.find(i=>i.keyData.code===e.code);t&&t.setActive(!1)}onMouseDown(e){const t=e.target.closest(".key");if(t){t.classList.add("active");const i=this.keys.find(s=>s.element===t);this.elements.textarea.value+=i.keyData.symbol}}onMouseUp(e){const t=e.target.closest(".key");t&&t.classList.remove("active")}}const r=()=>{new d(l).init()};r();
