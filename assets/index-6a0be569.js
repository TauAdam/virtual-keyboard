(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const a={Escape:"Esc",Digit1:"1",Digit2:"2",Digit3:"3",Digit4:"4",Digit5:"5",Digit6:"6",Digit7:"7",Digit8:"8",Digit9:"9",Digit0:"0",Minus:"-",Equal:"=",Backspace:"bksp",Tab:"tab",KeyQ:"q",KeyW:"w",KeyE:"e",KeyR:"r",KeyT:"t",KeyY:"y",KeyU:"u",KeyI:"i",KeyO:"o",KeyP:"p",BracketLeft:"[",BracketRight:"]",Backslash:"\\",CapsLock:"caps",KeyA:"a",KeyS:"s",KeyD:"d",KeyF:"f",KeyG:"g",KeyH:"h",KeyJ:"j",KeyK:"k",KeyL:"l",Semicolon:";",Quote:"'",Enter:"enter",ShiftLeft:"shift",KeyZ:"z",KeyX:"x",KeyC:"c",KeyV:"v",KeyB:"b",KeyN:"n",KeyM:"m",Comma:",",Period:".",Slash:"/",ArrowUp:"ᐃ",ShiftRight:"shift",ControlLeft:"ctrl",AltLeft:"alt",MetaLeft:"meta",Space:"space",MetaRight:"alt",AltRight:"alt",ArrowLeft:"ᐊ",ArrowDown:"ᐁ",ArrowRight:"ᐅ",ControlRight:"ctrl",Delete:"del"};class c{constructor(e,o,n){this.handleKeyDown=n,this.newButton=document.createElement("button"),this.newButton.textContent=e,this.newButton.setAttribute("data-content",e),this.newButton.classList.add("btn"),this.newButton.addEventListener("mousedown",()=>{n(e),this.newButton.classList.add("active")}),this.newButton.addEventListener("mouseup",()=>{this.newButton.classList.remove("active")}),o.append(this.newButton)}onKeyDown(){this.handleKeyDown(this.newButton.textContent),this.newButton.classList.add("active")}onKeyUp(){this.newButton.classList.remove("active")}}class d{constructor(e,o,n){this.boardNode=document.createElement("div"),this.boardNode.className="board",this.keys={},Object.keys(e).forEach(t=>{this.keys[t]=new c(e[t],this.boardNode,s=>n(s))}),o.append(this.boardNode)}onKeyDown(e){const o=e.code;this.keys[o]&&this.keys[o].onKeyDown()}onKeyUp(e){const o=e.code;this.keys[o]&&this.keys[o].onKeyUp()}}class y{constructor(e){this.currentLayout="en",this.main=document.createElement("div"),this.main.classList.add("keyboard"),this.textarea=document.createElement("textarea"),this.main.append(this.textarea),this.board=new d(e,this.main,o=>{this.textarea.textContent+=o})}start(){document.body.append(this.main),window.addEventListener("keydown",e=>this.board.onKeyDown(e)),window.addEventListener("keyup",e=>this.board.onKeyUp(e))}}const h=()=>{new y(a).start()};h();
